{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form');\nconst userEmail = feedbackForm.querySelector('input[type=\"email\"]');\nconst userMessage = feedbackForm.querySelector('textarea');\n\nlet userFeedback = {};\nlet parsedFeedback;\n\nconst LS_FEEDBACK = 'feedback-form-state';\n\nconst onRender = () => { \n    if (localStorage.getItem(LS_FEEDBACK)) {\n        parsedFeedback = JSON.parse(localStorage.getItem(LS_FEEDBACK));\n\n        userEmail.value = parsedFeedback.email || '';\n        userFeedback.email = parsedFeedback.email;\n        userMessage.value = parsedFeedback.message || '';\n        userFeedback.message = parsedFeedback.message;\n    };\n    \n};\n\nconst handleInput = ({target: {name, value}}) => {\n    userFeedback[name] = value.trim();\n    const strUserFeedback = JSON.stringify(userFeedback);\n    localStorage.setItem(LS_FEEDBACK, strUserFeedback);\n};\n\nconst handleSubmit = (e) => {\n    if (!userFeedback.email || !userFeedback.message) { \n        alert('Both inputs must be filled');\n        return;\n    };\n    e.preventDefault();\n    console.log(userFeedback);\n    e.currentTarget.reset();\n    localStorage.removeItem(LS_FEEDBACK);\n    userFeedback = {};\n};\n\nfeedbackForm.addEventListener('input', handleInput);\nfeedbackForm.addEventListener('submit', handleSubmit);\ndocument.addEventListener('DOMContentLoaded', onRender);\n\n"],"names":["feedbackForm","userEmail","userMessage","userFeedback","parsedFeedback","LS_FEEDBACK","onRender","handleInput","name","value","strUserFeedback","handleSubmit","e"],"mappings":"4HAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAYD,EAAa,cAAc,qBAAqB,EAC5DE,EAAcF,EAAa,cAAc,UAAU,EAEzD,IAAIG,EAAe,CAAA,EACfC,EAEJ,MAAMC,EAAc,sBAEdC,EAAW,IAAM,CACf,aAAa,QAAQD,CAAW,IAChCD,EAAiB,KAAK,MAAM,aAAa,QAAQC,CAAW,CAAC,EAE7DJ,EAAU,MAAQG,EAAe,OAAS,GAC1CD,EAAa,MAAQC,EAAe,MACpCF,EAAY,MAAQE,EAAe,SAAW,GAC9CD,EAAa,QAAUC,EAAe,QAG9C,EAEMG,EAAc,CAAC,CAAC,OAAQ,CAAC,KAAAC,EAAM,MAAAC,CAAK,CAAC,IAAM,CAC7CN,EAAaK,GAAQC,EAAM,KAAI,EAC/B,MAAMC,EAAkB,KAAK,UAAUP,CAAY,EACnD,aAAa,QAAQE,EAAaK,CAAe,CACrD,EAEMC,EAAgBC,GAAM,CACxB,GAAI,CAACT,EAAa,OAAS,CAACA,EAAa,QAAS,CAC9C,MAAM,4BAA4B,EAClC,MACR,CACIS,EAAE,iBACF,QAAQ,IAAIT,CAAY,EACxBS,EAAE,cAAc,QAChB,aAAa,WAAWP,CAAW,EACnCF,EAAe,CAAA,CACnB,EAEAH,EAAa,iBAAiB,QAASO,CAAW,EAClDP,EAAa,iBAAiB,SAAUW,CAAY,EACpD,SAAS,iBAAiB,mBAAoBL,CAAQ"}